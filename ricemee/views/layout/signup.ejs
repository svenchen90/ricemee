<!DOCTYPE html>
<!-- Sign up Modal -->
<div class="modal fade" id="signup" tabindex="-1" role="dialog" 
   aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog modal-lg">
	  <div class="modal-content">
		 <div class="modal-body"  style="max-height:880px;overflow-x:hidden;overflow:auto;">
			<!-- form: -->
			<div class="col-lg-10 col-lg-offset-1">
					<div class="page-header">
						<h2>Sign up</h2>
					</div>
					<form id="signupform" data-toggle="validator" action="/signup" method="post">
						<div class="form-group">
							<label class="control-label">Username</label>
							<input name="username" type="text" class="form-control"  placeholder="Username" data-remote="/checkavaliability" required>
							<div class="help-block with-errors"></div>
						</div>
						<div class="form-group">
							<label for="inputPassword" class="control-label">Password</label>
							<div class="form-inline row">
								<div class="form-group col-md-6">
									<input name="password" type="password" class="form-control" id="inputPassword" placeholder="Password" style="width:100%" required>
									<div class="help-block with-errors"></div>
								</div>
								<div class="form-group col-md-6">
									<input type="password" class="form-control" data-match="#inputPassword" data-match-error="Whoops, these don't match" placeholder="Confirm" style="width:100%" required>
									<div class="help-block with-errors"></div>
								</div>
							</div>
						</div>
						<div class="form-group has-feedback">
							<label for="name" class="control-label">Full Name</label>
							<div class="form-inline row">
								<div class="form-group col-md-6">
									<input name="first_name" type="text" class="form-control" placeholder="First name" style="width:100%" required>
									<div class="help-block with-errors"></div>
								</div>
								<div class="form-group col-md-6">
									<input name="last_name" type="text" class="form-control"  placeholder="Last name" style="width:100%" required>
									<div class="help-block with-errors"></div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="control-label">Birthday</label>
							<input name="birthday" type="date" class="form-control" placeholder="Birthday" required>
							<div class="help-block with-errors"></div>
						</div>
						<div class="form-group">
							<label class="control-label">Occupations</label>
							<select class="form-control" name="occupations">
								<option value="">-- Select an occupation --</option>
								<option value="engineer">Engineer</option>
								<option value="teacher">Teacher</option>
								<option value="salesman">Salesman</option>
								<option value="student">Student</option>
								<option value="other">Other</option>
							</select>
							<div class="help-block with-errors"></div>
						</div>
						<div class="form-group">
							<label class="control-label">Email</label>
							<input name="email" type="email" class="form-control" placeholder="Email" data-remote="/checkavaliability" required>
							<!-- <span class="glyphicon form-control-feedback" aria-hidden="true"></span> -->
							<div class="help-block with-errors"></div>
						</div>
						<div class="form-group">
							<label class="control-label">Phone</label>
							<input name="phone" type="text" pattern="^[0-9]{10}$" data-pattern-error="Please input a valid phone number with 10 digits."  class="form-control" placeholder="Phone" data-remote="/checkavaliability" required>
							<!-- <span class="glyphicon form-control-feedback" aria-hidden="true"></span> -->
							<div class="help-block with-errors"></div>
						</div>
						<div class="form-group">
							<label class="control-label">Introduction</label>
							<textarea name="introduction" type="text" class="form-control" placeholder="Introduction" rows="4" required></textarea>
							<div class="help-block with-errors"></div>
						</div>
						<div class="form-group">
							<button type="submit" class="btn btn-primary">Sign up</button>
						</div>
					</form>
				</div>
			<!-- form -->
		 </div>
	  </div>
	</div>
</div>
<script type="text/javascript">
$('#signupform').validator().on('submit', function (e) {
  if (e.isDefaultPrevented()) {
	// handle the invalid form...
  } else {
	// everything looks good!
	$.post("/signup", $(this).serializeArray(), function(data){
		console.log(data);
		if(data == 'success'){
			alert("Sign Up Successfully!");	
			location.reload();
		}
		else
			alert("error");
	});
	return false;
  }
})
</script>