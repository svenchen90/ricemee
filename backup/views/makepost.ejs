<!DOCTYPE html>
<html lang="en">
<head>
<title>Home</title>
<% include layout/head %>
<!-- Photo Upload -->
<link href="css/fileinput.css" media="all" rel="stylesheet" type="text/css" />
<script src="js/fileinput.js" type="text/javascript"></script>
<script src="js/locales/fr.js" type="text/javascript"></script>
<script src="js/locales/es.js" type="text/javascript"></script>

<!--[if IE]><script src="js/excanvas.compiled.js" type="text/javascript"></script>
<![endif]-->
<!-- must have -->
	<script>
		jQuery(function() {

			jQuery('#allinone_carousel_charming').allinone_carousel({
				skin: 'charming',
				width: 990,
				height: 454,
				responsive:true,
				autoPlay: 3,
				resizeImages:true,
				autoHideBottomNav:false,
				showElementTitle:false,
				verticalAdjustment:50,
				showPreviewThumbs:false,
				//easing:'easeOutBounce',
				numberOfVisibleItems:5,
				nextPrevMarginTop:23,
				playMovieMarginTop:0,
				bottomNavMarginBottom:-10
			});		
		});
	</script>
<!-- Owl Carousel Assets -->
<link href="css/owl.carousel.css" rel="stylesheet">
<script src="js/owl.carousel.js"></script>
		<script>
			$(document).ready(function() {

				$("#owl-demo").owlCarousel({
					items : 4,
					lazyLoad : true,
					autoPlay : true,
					navigation : true,
					navigationText : ["", ""],
					rewindNav : false,
					scrollPerPage : false,
					pagination : false,
					paginationNumbers : false,
				});

			});
		</script>
		<!-- //Owl Carousel Assets -->
<!-- start circle -->
<script>
(function($){
	$.fn.percentPie = function(options){

		var settings = $.extend({
			width: 100,
			trackColor: "EEEEEE",
			barColor: "E2534B",
			barWeight: 30,
			startPercent: 0,
			endPercent: 1,
			fps: 60
		}, options);

		this.css({
			width: settings.width,
			height: settings.width
		});

		var	that = this,
			hoverPolice = false,
			canvasWidth = settings.width,
			canvasHeight = canvasWidth,
			id = $('canvas').length,
			canvasElement = $('<canvas id="'+ id +'" width="' + canvasWidth + '" height="' + canvasHeight + '"></canvas>'),
			canvas = canvasElement.get(0).getContext("2d"),
			centerX = canvasWidth/2,
			centerY = canvasHeight/2,
			radius = settings.width/2 - settings.barWeight/2;
			counterClockwise = false,
			fps = 1000 / settings.fps,
			update = .01;
			this.angle = settings.startPercent;

		this.drawArc = function(startAngle, percentFilled, color){
			var drawingArc = true;
			canvas.beginPath();
			canvas.arc(centerX, centerY, radius, (Math.PI/180)*(startAngle * 360 - 90), (Math.PI/180)*(percentFilled * 360 - 90), counterClockwise);
			canvas.strokeStyle = color;
			canvas.lineWidth = settings.barWeight;
			canvas.stroke();
			drawingArc = false;
		}

		this.fillChart = function(stop){
			var loop = setInterval(function(){
				hoverPolice = true;
				canvas.clearRect(0, 0, canvasWidth, canvasHeight);

				that.drawArc(0, 360, settings.trackColor);
				that.angle += update;
				that.drawArc(settings.startPercent, that.angle, settings.barColor);

				if(that.angle > stop){
					clearInterval(loop);
					hoverPolice = false;
				}
			}, fps);
		}

		this.mouseover(function(){
			if(hoverPolice == false){
				that.angle = settings.startPercent;
				that.fillChart(settings.endPercent);
			}
		});

		this.fillChart(settings.endPercent);
		this.append(canvasElement);
		return this;
	}
}(jQuery));

$(document).ready(function() {

	$('.google').percentPie({
		width: 100,
		trackColor: "E2534B",
		barColor: "76C7C0",
		barWeight: 20,
		endPercent: .9,
		fps: 60
	});
  
  $('.moz').percentPie({
		width: 100,
		trackColor: "E2534B",
		barColor: "76C7C0",
		barWeight: 20,
		endPercent: .75,
		fps: 60
	});
  
  $('.safari').percentPie({
		width: 100,
		trackColor: "E2534B",
		barColor: "#76C7C0",
		barWeight: 20,
		endPercent: .5,
		fps: 60
	});
    
});
</script>
</head>
<body>
    <% include layout/header %>
	
	<div class="main_bg"><!-- start main -->
	<div class="container">
		<div class="main_grid1">
			<h3 class="style pull-left">Post</h3>
			<ol class="breadcrumb pull-right">
			  <li><a href="/">Home</a></li>
			  <li class="active">Post</li>
			</ol>
			<div class="clearfix"></div>
		</div>
	</div>
	</div>
	
	<div class="main_btm1">
	<div class="container">
		<ul class="nav nav-tabs">
			<li class="active">
				<a href="#eventblock" data-toggle="tab"><h4>Event</h4></a>
			</li>
			<li><a href="#textblock" data-toggle="tab"><h4>Text</h4></a></li>
			<li><a href="#pictureblock" data-toggle="tab"><h4>Picture</h4></a></li>
			<li><a href="#videoblock" data-toggle="tab"><h4>Video</h4></a></li>

		</ul>
		<div id="myTabContent" class="tab-content">
			<div class="tab-pane fade in active" id="eventblock">
				<div class="page-header">
					<h3>Create Event</h3>
				</div>
				<form id="eventform" data-toggle="validator" method="post">
					<div class="form-group">
						<label class="control-label">Title</label>
						<input name="title" type="text" class="form-control"  placeholder="Title" required>
						<div class="help-block with-errors"></div>
					</div>
					<div class="form-group">
						<label class="control-label">Schedule</label>
						<input name="schedule" type="date" class="form-control" required>
						<div class="help-block with-errors"></div>
					</div>
					<div class="form-group">
						<label class="control-label">Details</label>
						<textarea name="details" type="text" class="form-control" placeholder="Event details" rows="4" required></textarea>
						<div class="help-block with-errors"></div>
					</div>
					<div class="form-group">
						<label class="control-label">Link</label>
						<input name="link" type="text" class="form-control" required>
						<div class="help-block with-errors"></div>
					</div>
					<div class="form-group">
						<label class="control-label">Photo</label>
						<input id="input-600" name="inputFile" type="file" accept="image/*" multiple class="file-loading">
					</div>
				</form>
			</div>
			<div class="tab-pane fade" id="textblock">
				<div class="page-header">
					<h3>Post Text</h3>
				</div>
				<form id="textform" data-toggle="validator" action="/posttext" method="post">
					<div class="form-group">
						<label class="control-label">Title</label>
						<input name="title" type="text" placeholder="Title" class="form-control" required>
						<div class="help-block with-errors"></div>
					</div>
					<div class="form-group">
						<label class="control-label">Details</label>
						<textarea name="details" type="text" class="form-control" placeholder="Text Message" rows="4" required></textarea>
						<div class="help-block with-errors"></div>
					</div>
					<div class="form-group">
						<button type="submit" class="btn btn-primary">Post Text</button>
					</div>
				</form>
			</div>
			<div class="tab-pane fade" id="pictureblock">
				<div class="page-header">
					<h3>Post Picture</h3>
				</div>
				<form id="photosform"  enctype="multipart/form-data" method="post" accept-charset="utf-8">
					<div class="form-group">
						<label class="control-label">Title</label>
						<input name="title" type="text" placeholder="Title" class="form-control" required>
						<div class="help-block with-errors"></div>
					</div>
					<div class="form-group">
						<label class="control-label">Details</label>
						<textarea name="details" type="text" class="form-control" placeholder="Text Message" rows="4" required></textarea>
						<div class="help-block with-errors"></div>
					</div>
											
					<div class="form-group">
						<label class="control-label">Photo</label>
						<input id="input-700" name="inputFile" type="file" accept="image/*" multiple class="file-loading">
					</div>
				</form>
			</div>
			<div class="tab-pane fade" id="videoblock">
				<div class="page-header">
					<h3>Post Video</h3>
				</div>
				<form id="videoform"  enctype="multipart/form-data" method="post" accept-charset="utf-8">
					<div class="form-group">
						<label class="control-label">Title</label>
						<input name="title" type="text" placeholder="Title" class="form-control" required>
						<div class="help-block with-errors"></div>
					</div>
					<div class="form-group">
						<label class="control-label">Details</label>
						<textarea name="details" type="text" class="form-control" placeholder="Text Message" rows="4" required></textarea>
						<div class="help-block with-errors"></div>
					</div>
											
					<div class="form-group">
						<label class="control-label">Video</label>
						<input id="input-800" name="inputFile" type="file" accept="video/*" multiple class="file-loading">
					</div>
				</form>
			</div>
		</div>
	</div>
	</div>

<script>
	$("#input-600").fileinput({
			uploadUrl: "/postevent", // server upload action
			autoReplace: true,
			uploadAsync: true,
			maxFileCount: 1,
			previewFileType: "image",
			showCaption: true,
			showRemove: true,
			showUpload: true,
			
			browseClass: "btn btn-success",
			browseLabel: "Pick Image",
			browseIcon: "<i class=\"glyphicon glyphicon-picture\"></i> ",
			removeClass: "btn btn-danger",
			removeLabel: "Clear",
			removeIcon: "<i class=\"glyphicon glyphicon-trash\"></i> ",
			uploadClass: "btn btn-info",
			uploadLabel: "Upload",
			uploadIcon: "<i class=\"glyphicon glyphicon-upload\"></i>",
			layoutTemplates: {actionUpload: ''},
			uploadExtraData: function(){
				var data = {
					title: $("#eventform [name='title']").val(),
					schedule: $("#eventform [name='schedule']").val(),
					details: $("#eventform [name='details']").val(),
					link: $("#eventform [name='link']").val()
				};
				return data;
			}
		})
		.on('fileselect', function(event, numFiles, label) {
			
		})
		.on('fileuploaded', function(event, data, previewId, index) {
			$('#input-700').fileinput('disable');
			window.location = "/";
		})
		.on('filepredeleted', function(event, key) {
			console.log('Key = ' + key);
		});
		
	$("#input-700").fileinput({
			uploadUrl: "/postphotos", // server upload action
			autoReplace: true,
			uploadAsync: true,
			maxFileCount: 1,
			previewFileType: "image",
			showCaption: true,
			showRemove: true,
			showUpload: true,
			
			browseClass: "btn btn-success",
			browseLabel: "Pick Image",
			browseIcon: "<i class=\"glyphicon glyphicon-picture\"></i> ",
			removeClass: "btn btn-danger",
			removeLabel: "Clear",
			removeIcon: "<i class=\"glyphicon glyphicon-trash\"></i> ",
			uploadClass: "btn btn-info",
			uploadLabel: "Upload",
			uploadIcon: "<i class=\"glyphicon glyphicon-upload\"></i>",
			layoutTemplates: {actionUpload: ''},
			uploadExtraData: function(){
				var data = {
					title: $("#photosform [name='title']").val(),
					details: $("#photosform [name='details']").val()
				};
				return data;
			}
		})
		.on('fileselect', function(event, numFiles, label) {
			
		})
		.on('fileuploaded', function(event, data, previewId, index) {
			$('#input-700').fileinput('disable');
			window.location = "/";
		})
		.on('filepredeleted', function(event, key) {
			console.log('Key = ' + key);
		});
		
	$("#input-800").fileinput({
		uploadUrl: "/postvideo", // server upload action
		autoReplace: true,
		uploadAsync: true,
		maxFileCount: 1,
		previewFileType: "image",
		showCaption: true,
		showRemove: true,
		showUpload: true,
		
		browseClass: "btn btn-success",
		browseLabel: "Pick Image",
		browseIcon: "<i class=\"glyphicon glyphicon-picture\"></i> ",
		removeClass: "btn btn-danger",
		removeLabel: "Clear",
		removeIcon: "<i class=\"glyphicon glyphicon-trash\"></i> ",
		uploadClass: "btn btn-info",
		uploadLabel: "Upload",
		uploadIcon: "<i class=\"glyphicon glyphicon-upload\"></i>",
		layoutTemplates: {actionUpload: ''},
		uploadExtraData: function(){
			var data = {
				title: $("#videoform [name='title']").val(),
				details: $("#videoform [name='details']").val()
			};
			return data;
		}
	})
	.on('fileselect', function(event, numFiles, label) {
		
	})
	.on('fileuploaded', function(event, data, previewId, index) {
		$('#input-700').fileinput('disable');
		window.location = "/listpost";
	})
	.on('filepredeleted', function(event, key) {
		console.log('Key = ' + key);
	});
</script>	
	
    <% include layout/footer %>
  
    
</body>
</html>